{% load helpers %}
<table class="table table-hover panel-body attr-table">
    {% if terminations.0.device %}
        {# Device component #}
        <tr>
            <td>Device</td>
            <td>
                <a href="{{ terminations.0.device.get_absolute_url }}">{{ terminations.0.device }}</a>
            </td>
        </tr>
        <tr>
            <td>Type</td>
            <td>
                {{ terminations.0|meta:"verbose_name"|capfirst }}
            </td>
        </tr>
        <tr>
            <td>Component</td>
            <td>
                {% for termination in terminations %}
                <a href="{{ termination.get_absolute_url }}">{{ termination }}</a>{% if not forloop.last %},{% endif %}
                {% endfor %}
            </td>
        </tr>
    {% elif termination.power_panel %}
        {# Power panel #}
        <tr>
            <td>Power Panel</td>
            <td>
                <a href="{{ terminations.0.power_panel.get_absolute_url }}">{{ terminations.0.power_panel }}</a>
            </td>
        </tr>
        <tr>
            <td>Power Feed</td>
            <td>
                <a href="{{ terminations.0.get_absolute_url }}">{{ terminations.0 }}</a>
            </td>
        </tr>
    {% else %}
        {# Circuit termination #}
        <tr>
            <td>Provider</td>
            <td>
                <a href="{{ terminations.0.circuit.provider.get_absolute_url }}">{{ terminations.0.circuit.provider }}</a>
            </td>
        </tr>
        <tr>
            <td>Circuit</td>
            <td>
                {% for termination in terminations %}
                <a href="{{ termination.circuit.get_absolute_url }}">{{ termination.circuit }}</a> ({{ termination }}){% if not forloop.last %},{% endif %}
                {% endfor %}
            </td>
        </tr>
    {% endif %}
</table>
